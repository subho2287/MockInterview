"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/questions/route";
exports.ids = ["app/api/questions/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fquestions%2Froute&page=%2Fapi%2Fquestions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquestions%2Froute.ts&appDir=C%3A%5CAI%20Projects%5CWindsurf%5CAIInterviewer%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CAI%20Projects%5CWindsurf%5CAIInterviewer&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fquestions%2Froute&page=%2Fapi%2Fquestions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquestions%2Froute.ts&appDir=C%3A%5CAI%20Projects%5CWindsurf%5CAIInterviewer%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CAI%20Projects%5CWindsurf%5CAIInterviewer&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_AI_Projects_Windsurf_AIInterviewer_src_app_api_questions_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/questions/route.ts */ \"(rsc)/./src/app/api/questions/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/questions/route\",\n        pathname: \"/api/questions\",\n        filename: \"route\",\n        bundlePath: \"app/api/questions/route\"\n    },\n    resolvedPagePath: \"C:\\\\AI Projects\\\\Windsurf\\\\AIInterviewer\\\\src\\\\app\\\\api\\\\questions\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_AI_Projects_Windsurf_AIInterviewer_src_app_api_questions_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/questions/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZxdWVzdGlvbnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnF1ZXN0aW9ucyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnF1ZXN0aW9ucyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDQUklMjBQcm9qZWN0cyU1Q1dpbmRzdXJmJTVDQUlJbnRlcnZpZXdlciU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q0FJJTIwUHJvamVjdHMlNUNXaW5kc3VyZiU1Q0FJSW50ZXJ2aWV3ZXImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDNEI7QUFDekc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1pbnRlcnZpZXdlci8/YjljNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxBSSBQcm9qZWN0c1xcXFxXaW5kc3VyZlxcXFxBSUludGVydmlld2VyXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHF1ZXN0aW9uc1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcXVlc3Rpb25zL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcXVlc3Rpb25zXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9xdWVzdGlvbnMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxBSSBQcm9qZWN0c1xcXFxXaW5kc3VyZlxcXFxBSUludGVydmlld2VyXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHF1ZXN0aW9uc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9xdWVzdGlvbnMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fquestions%2Froute&page=%2Fapi%2Fquestions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquestions%2Froute.ts&appDir=C%3A%5CAI%20Projects%5CWindsurf%5CAIInterviewer%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CAI%20Projects%5CWindsurf%5CAIInterviewer&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/questions/route.ts":
/*!****************************************!*\
  !*** ./src/app/api/questions/route.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _utils_groq__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/groq */ \"(rsc)/./src/utils/groq.ts\");\n\n\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { technology, difficulty, questionNumber, questionType } = body;\n        // Debug log the raw values\n        console.log(\"Raw request values:\", {\n            technology: JSON.stringify(technology),\n            difficulty: JSON.stringify(difficulty),\n            questionNumber,\n            questionType,\n            technologyType: typeof technology,\n            difficultyType: typeof difficulty\n        });\n        if (!technology || !difficulty || !questionType) {\n            console.log(\"Missing required fields:\", {\n                technology,\n                difficulty,\n                questionType\n            });\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Technology, difficulty, and question type are required\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate and clean inputs\n        const cleanTechnology = decodeURIComponent(technology.trim());\n        const cleanDifficulty = difficulty.trim().toLowerCase();\n        console.log(\"Cleaned values:\", {\n            technology: cleanTechnology,\n            difficulty: cleanDifficulty\n        });\n        console.log(\"Generating question with params:\", {\n            technology: cleanTechnology,\n            difficulty: cleanDifficulty,\n            questionNumber,\n            questionType\n        });\n        try {\n            const question = await (0,_utils_groq__WEBPACK_IMPORTED_MODULE_1__.generateQuestion)(cleanTechnology, cleanDifficulty, questionNumber, questionType);\n            console.log(\"Successfully generated question:\", {\n                hasQuestion: !!question?.question,\n                topics: question?.expectedTopics,\n                type: questionType\n            });\n            if (!question || typeof question !== \"object\") {\n                console.error(\"Invalid question response:\", question);\n                throw new Error(\"Invalid question format received\");\n            }\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(question);\n        } catch (error) {\n            console.error(\"Error in question generation:\", error);\n            // Check if it's a rate limit error\n            if (error instanceof Error && error.message.includes(\"rate limit\")) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Rate limit exceeded. Please wait a moment before trying again.\"\n                }, {\n                    status: 429\n                });\n            }\n            throw error; // Re-throw other errors\n        }\n    } catch (error) {\n        console.error(\"Error in route handler:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: error instanceof Error ? error.message : \"Failed to generate question\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9xdWVzdGlvbnMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJDO0FBQ0s7QUFFekMsZUFBZUUsS0FBS0MsT0FBZ0I7SUFDekMsSUFBSTtRQUNGLE1BQU1DLE9BQU8sTUFBTUQsUUFBUUUsSUFBSTtRQUMvQixNQUFNLEVBQUVDLFVBQVUsRUFBRUMsVUFBVSxFQUFFQyxjQUFjLEVBQUVDLFlBQVksRUFBRSxHQUFHTDtRQUVqRSwyQkFBMkI7UUFDM0JNLFFBQVFDLEdBQUcsQ0FBQyx1QkFBdUI7WUFDakNMLFlBQVlNLEtBQUtDLFNBQVMsQ0FBQ1A7WUFDM0JDLFlBQVlLLEtBQUtDLFNBQVMsQ0FBQ047WUFDM0JDO1lBQ0FDO1lBQ0FLLGdCQUFnQixPQUFPUjtZQUN2QlMsZ0JBQWdCLE9BQU9SO1FBQ3pCO1FBRUEsSUFBSSxDQUFDRCxjQUFjLENBQUNDLGNBQWMsQ0FBQ0UsY0FBYztZQUMvQ0MsUUFBUUMsR0FBRyxDQUFDLDRCQUE0QjtnQkFBRUw7Z0JBQVlDO2dCQUFZRTtZQUFhO1lBQy9FLE9BQU9ULGtGQUFZQSxDQUFDSyxJQUFJLENBQ3RCO2dCQUFFVyxPQUFPO1lBQXlELEdBQ2xFO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSw0QkFBNEI7UUFDNUIsTUFBTUMsa0JBQWtCQyxtQkFBbUJiLFdBQVdjLElBQUk7UUFDMUQsTUFBTUMsa0JBQWtCZCxXQUFXYSxJQUFJLEdBQUdFLFdBQVc7UUFFckRaLFFBQVFDLEdBQUcsQ0FBQyxtQkFBbUI7WUFDN0JMLFlBQVlZO1lBQ1pYLFlBQVljO1FBQ2Q7UUFFQVgsUUFBUUMsR0FBRyxDQUFDLG9DQUFvQztZQUM5Q0wsWUFBWVk7WUFDWlgsWUFBWWM7WUFDWmI7WUFDQUM7UUFDRjtRQUVBLElBQUk7WUFDRixNQUFNYyxXQUFXLE1BQU10Qiw2REFBZ0JBLENBQUNpQixpQkFBaUJHLGlCQUFpQmIsZ0JBQWdCQztZQUUxRkMsUUFBUUMsR0FBRyxDQUFDLG9DQUFvQztnQkFDOUNhLGFBQWEsQ0FBQyxDQUFDRCxVQUFVQTtnQkFDekJFLFFBQVFGLFVBQVVHO2dCQUNsQkMsTUFBTWxCO1lBQ1I7WUFFQSxJQUFJLENBQUNjLFlBQVksT0FBT0EsYUFBYSxVQUFVO2dCQUM3Q2IsUUFBUU0sS0FBSyxDQUFDLDhCQUE4Qk87Z0JBQzVDLE1BQU0sSUFBSUssTUFBTTtZQUNsQjtZQUVBLE9BQU81QixrRkFBWUEsQ0FBQ0ssSUFBSSxDQUFDa0I7UUFDM0IsRUFBRSxPQUFPUCxPQUFPO1lBQ2ROLFFBQVFNLEtBQUssQ0FBQyxpQ0FBaUNBO1lBRS9DLG1DQUFtQztZQUNuQyxJQUFJQSxpQkFBaUJZLFNBQVNaLE1BQU1hLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDLGVBQWU7Z0JBQ2xFLE9BQU85QixrRkFBWUEsQ0FBQ0ssSUFBSSxDQUN0QjtvQkFBRVcsT0FBTztnQkFBaUUsR0FDMUU7b0JBQUVDLFFBQVE7Z0JBQUk7WUFFbEI7WUFFQSxNQUFNRCxPQUFPLHdCQUF3QjtRQUN2QztJQUNGLEVBQUUsT0FBT0EsT0FBTztRQUNkTixRQUFRTSxLQUFLLENBQUMsMkJBQTJCQTtRQUN6QyxPQUFPaEIsa0ZBQVlBLENBQUNLLElBQUksQ0FDdEI7WUFBRVcsT0FBT0EsaUJBQWlCWSxRQUFRWixNQUFNYSxPQUFPLEdBQUc7UUFBOEIsR0FDaEY7WUFBRVosUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1pbnRlcnZpZXdlci8uL3NyYy9hcHAvYXBpL3F1ZXN0aW9ucy9yb3V0ZS50cz9lMTEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGdlbmVyYXRlUXVlc3Rpb24gfSBmcm9tICdAL3V0aWxzL2dyb3EnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnN0IHsgdGVjaG5vbG9neSwgZGlmZmljdWx0eSwgcXVlc3Rpb25OdW1iZXIsIHF1ZXN0aW9uVHlwZSB9ID0gYm9keTtcblxuICAgIC8vIERlYnVnIGxvZyB0aGUgcmF3IHZhbHVlc1xuICAgIGNvbnNvbGUubG9nKCdSYXcgcmVxdWVzdCB2YWx1ZXM6Jywge1xuICAgICAgdGVjaG5vbG9neTogSlNPTi5zdHJpbmdpZnkodGVjaG5vbG9neSksXG4gICAgICBkaWZmaWN1bHR5OiBKU09OLnN0cmluZ2lmeShkaWZmaWN1bHR5KSxcbiAgICAgIHF1ZXN0aW9uTnVtYmVyLFxuICAgICAgcXVlc3Rpb25UeXBlLFxuICAgICAgdGVjaG5vbG9neVR5cGU6IHR5cGVvZiB0ZWNobm9sb2d5LFxuICAgICAgZGlmZmljdWx0eVR5cGU6IHR5cGVvZiBkaWZmaWN1bHR5XG4gICAgfSk7XG5cbiAgICBpZiAoIXRlY2hub2xvZ3kgfHwgIWRpZmZpY3VsdHkgfHwgIXF1ZXN0aW9uVHlwZSkge1xuICAgICAgY29uc29sZS5sb2coJ01pc3NpbmcgcmVxdWlyZWQgZmllbGRzOicsIHsgdGVjaG5vbG9neSwgZGlmZmljdWx0eSwgcXVlc3Rpb25UeXBlIH0pO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnVGVjaG5vbG9neSwgZGlmZmljdWx0eSwgYW5kIHF1ZXN0aW9uIHR5cGUgYXJlIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgYW5kIGNsZWFuIGlucHV0c1xuICAgIGNvbnN0IGNsZWFuVGVjaG5vbG9neSA9IGRlY29kZVVSSUNvbXBvbmVudCh0ZWNobm9sb2d5LnRyaW0oKSk7XG4gICAgY29uc3QgY2xlYW5EaWZmaWN1bHR5ID0gZGlmZmljdWx0eS50cmltKCkudG9Mb3dlckNhc2UoKTtcblxuICAgIGNvbnNvbGUubG9nKCdDbGVhbmVkIHZhbHVlczonLCB7XG4gICAgICB0ZWNobm9sb2d5OiBjbGVhblRlY2hub2xvZ3ksXG4gICAgICBkaWZmaWN1bHR5OiBjbGVhbkRpZmZpY3VsdHlcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKCdHZW5lcmF0aW5nIHF1ZXN0aW9uIHdpdGggcGFyYW1zOicsIHtcbiAgICAgIHRlY2hub2xvZ3k6IGNsZWFuVGVjaG5vbG9neSxcbiAgICAgIGRpZmZpY3VsdHk6IGNsZWFuRGlmZmljdWx0eSxcbiAgICAgIHF1ZXN0aW9uTnVtYmVyLFxuICAgICAgcXVlc3Rpb25UeXBlXG4gICAgfSk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHF1ZXN0aW9uID0gYXdhaXQgZ2VuZXJhdGVRdWVzdGlvbihjbGVhblRlY2hub2xvZ3ksIGNsZWFuRGlmZmljdWx0eSwgcXVlc3Rpb25OdW1iZXIsIHF1ZXN0aW9uVHlwZSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgZ2VuZXJhdGVkIHF1ZXN0aW9uOicsIHtcbiAgICAgICAgaGFzUXVlc3Rpb246ICEhcXVlc3Rpb24/LnF1ZXN0aW9uLFxuICAgICAgICB0b3BpY3M6IHF1ZXN0aW9uPy5leHBlY3RlZFRvcGljcyxcbiAgICAgICAgdHlwZTogcXVlc3Rpb25UeXBlXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFxdWVzdGlvbiB8fCB0eXBlb2YgcXVlc3Rpb24gIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgcXVlc3Rpb24gcmVzcG9uc2U6JywgcXVlc3Rpb24pO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcXVlc3Rpb24gZm9ybWF0IHJlY2VpdmVkJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihxdWVzdGlvbik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIHF1ZXN0aW9uIGdlbmVyYXRpb246JywgZXJyb3IpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiBpdCdzIGEgcmF0ZSBsaW1pdCBlcnJvclxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygncmF0ZSBsaW1pdCcpKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IGVycm9yOiAnUmF0ZSBsaW1pdCBleGNlZWRlZC4gUGxlYXNlIHdhaXQgYSBtb21lbnQgYmVmb3JlIHRyeWluZyBhZ2Fpbi4nIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDQyOSB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRocm93IGVycm9yOyAvLyBSZS10aHJvdyBvdGhlciBlcnJvcnNcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gcm91dGUgaGFuZGxlcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGdlbmVyYXRlIHF1ZXN0aW9uJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdlbmVyYXRlUXVlc3Rpb24iLCJQT1NUIiwicmVxdWVzdCIsImJvZHkiLCJqc29uIiwidGVjaG5vbG9neSIsImRpZmZpY3VsdHkiLCJxdWVzdGlvbk51bWJlciIsInF1ZXN0aW9uVHlwZSIsImNvbnNvbGUiLCJsb2ciLCJKU09OIiwic3RyaW5naWZ5IiwidGVjaG5vbG9neVR5cGUiLCJkaWZmaWN1bHR5VHlwZSIsImVycm9yIiwic3RhdHVzIiwiY2xlYW5UZWNobm9sb2d5IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwidHJpbSIsImNsZWFuRGlmZmljdWx0eSIsInRvTG93ZXJDYXNlIiwicXVlc3Rpb24iLCJoYXNRdWVzdGlvbiIsInRvcGljcyIsImV4cGVjdGVkVG9waWNzIiwidHlwZSIsIkVycm9yIiwibWVzc2FnZSIsImluY2x1ZGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/questions/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/utils/groq.ts":
/*!***************************!*\
  !*** ./src/utils/groq.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeResponse: () => (/* binding */ analyzeResponse),\n/* harmony export */   generateQuestion: () => (/* binding */ generateQuestion),\n/* harmony export */   generateQuestionPrompt: () => (/* binding */ generateQuestionPrompt),\n/* harmony export */   validateQuestionResponse: () => (/* binding */ validateQuestionResponse)\n/* harmony export */ });\nconst GROQ_API_KEY = \"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\";\nconst API_URL = \"https://api.groq.com/openai/v1/chat/completions\";\n// Rate limiting configuration\nlet lastRequestTime = 0;\nconst MIN_REQUEST_INTERVAL = 3000; // 3 seconds between requests\nconst sleep = (ms)=>new Promise((resolve)=>setTimeout(resolve, ms));\nconst waitForRateLimit = async ()=>{\n    const now = Date.now();\n    const timeSinceLastRequest = now - lastRequestTime;\n    if (timeSinceLastRequest < MIN_REQUEST_INTERVAL) {\n        const waitTime = MIN_REQUEST_INTERVAL - timeSinceLastRequest;\n        await sleep(waitTime);\n    }\n    lastRequestTime = Date.now();\n};\nasync function makeGroqRequest(prompt) {\n    if (!GROQ_API_KEY) {\n        throw new Error(\"GROQ API key is not configured\");\n    }\n    await waitForRateLimit();\n    try {\n        const response = await fetch(API_URL, {\n            method: \"POST\",\n            headers: {\n                \"Authorization\": `Bearer ${GROQ_API_KEY}`,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                model: \"llama-3.2-90b-vision-preview\",\n                messages: [\n                    {\n                        role: \"system\",\n                        content: \"You are a technical interviewer. Your responses must be in valid JSON format. Always wrap property names in double quotes. Do not include any text before or after the JSON object.\"\n                    },\n                    {\n                        role: \"user\",\n                        content: prompt\n                    }\n                ],\n                temperature: 0.7,\n                max_tokens: 1000,\n                top_p: 0.95,\n                stream: false\n            })\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error(\"API response error:\", {\n                status: response.status,\n                statusText: response.statusText,\n                errorText\n            });\n            if (response.status === 429) {\n                throw new Error(\"Rate limit exceeded\");\n            }\n            throw new Error(`API request failed: ${response.status} ${response.statusText}`);\n        }\n        const responseData = await response.json();\n        console.log(\"Raw API response:\", JSON.stringify(responseData, null, 2));\n        return responseData;\n    } catch (error) {\n        console.error(\"Error in makeGroqRequest:\", error);\n        if (error instanceof Error) {\n            console.error(\"Error type:\", error.constructor.name);\n            console.error(\"Error stack:\", error.stack);\n        } else {\n            console.error(\"Non-Error object thrown\");\n        }\n        throw error;\n    }\n}\nfunction parseJsonResponse(response, requiredFields = [\n    \"question\",\n    \"expectedTopics\",\n    \"difficulty\",\n    \"modelAnswer\"\n]) {\n    if (!response || typeof response !== \"string\") {\n        console.error(\"Invalid response type:\", typeof response);\n        throw new Error(\"Response must be a non-empty string\");\n    }\n    console.log(\"Attempting to parse response:\", response);\n    // First, try to find a JSON object in the response\n    const jsonMatch = response.match(/\\{[\\s\\S]*\\}/);\n    if (!jsonMatch) {\n        console.error(\"No JSON object found in response\");\n        throw new Error(\"No JSON object found in response\");\n    }\n    let cleanedResponse = jsonMatch[0];\n    try {\n        // Try parsing the extracted JSON first\n        const parsed = JSON.parse(cleanedResponse);\n        // Validate required fields\n        const missingFields = requiredFields.filter((field)=>!(field in parsed));\n        if (missingFields.length > 0) {\n            throw new Error(`Missing required fields: ${missingFields.join(\", \")}`);\n        }\n        return parsed;\n    } catch (initialError) {\n        console.error(\"Initial JSON Parse Error:\", initialError);\n        console.log(\"Failed to parse JSON. Response details:\", {\n            type: typeof cleanedResponse,\n            length: cleanedResponse.length,\n            preview: cleanedResponse.substring(0, 100),\n            charCodes: cleanedResponse.substring(0, 50).split(\"\").map((c, i)=>`[${i}]${c}(${c.charCodeAt(0)})`).join(\" \")\n        });\n        try {\n            // Try to fix common JSON issues\n            cleanedResponse = cleanedResponse.replace(/^\\s*|\\s*$/g, \"\") // Trim whitespace\n            .replace(/[\\u200B-\\u200D\\uFEFF]/g, \"\") // Remove zero-width spaces\n            .replace(/,(\\s*[}\\]])/g, \"$1\") // Remove trailing commas\n            .replace(/([{,]\\s*)(\\w+)(\\s*:)/g, '$1\"$2\"$3') // Quote unquoted keys\n            .replace(/:\\s*'([^']*)'/g, ':\"$1\"') // Replace single quotes with double quotes\n            .replace(/\\\\([^\"\\\\\\/bfnrtu])/g, \"$1\") // Fix invalid escape sequences\n            .replace(/\\n/g, \"\\\\n\") // Escape newlines\n            .replace(/\\r/g, \"\\\\r\") // Escape carriage returns\n            .replace(/\\t/g, \"\\\\t\"); // Escape tabs\n            console.log(\"Cleaned response:\", cleanedResponse);\n            const parsed = JSON.parse(cleanedResponse);\n            // Validate required fields again\n            const missingFields = requiredFields.filter((field)=>!(field in parsed));\n            if (missingFields.length > 0) {\n                throw new Error(`Missing required fields after cleaning: ${missingFields.join(\", \")}`);\n            }\n            return parsed;\n        } catch (finalError) {\n            console.error(\"Final JSON Parse Error:\", finalError);\n            const errorMessage = finalError instanceof Error ? finalError.message : \"Unknown error occurred while parsing JSON\";\n            throw new Error(`Failed to parse response as JSON: ${errorMessage}\\nResponse: ${cleanedResponse}`);\n        }\n    }\n}\nfunction validateQuestionResponse(response, questionType) {\n    if (!response) {\n        throw new Error(\"Response cannot be null or undefined\");\n    }\n    const requiredFields = [\n        \"question\",\n        \"expectedTopics\",\n        \"difficulty\",\n        \"modelAnswer\"\n    ];\n    const missingFields = requiredFields.filter((field)=>!(field in response));\n    if (missingFields.length > 0) {\n        throw new Error(`Missing required fields: ${missingFields.join(\", \")}`);\n    }\n    if (!Array.isArray(response.expectedTopics)) {\n        throw new Error(\"expectedTopics must be an array\");\n    }\n    if (typeof response.difficulty !== \"number\") {\n        throw new Error(\"difficulty must be a number\");\n    }\n    if (questionType.toLowerCase() === \"mcq\") {\n        if (!response.modelAnswer.options || typeof response.modelAnswer.options !== \"object\") {\n            throw new Error(\"MCQ response must include options object\");\n        }\n        const requiredOptions = [\n            \"A\",\n            \"B\",\n            \"C\",\n            \"D\"\n        ];\n        const missingOptions = requiredOptions.filter((opt)=>!(opt in response.modelAnswer.options));\n        if (missingOptions.length > 0) {\n            throw new Error(`Missing MCQ options: ${missingOptions.join(\", \")}`);\n        }\n        if (!response.modelAnswer.correctOption || !requiredOptions.includes(response.modelAnswer.correctOption)) {\n            throw new Error(\"MCQ response must include a valid correctOption (A, B, C, or D)\");\n        }\n        if (!response.modelAnswer.explanation || typeof response.modelAnswer.explanation !== \"string\") {\n            throw new Error(\"MCQ response must include an explanation\");\n        }\n    } else if (questionType.toLowerCase() === \"coding\") {\n        if (!response.modelAnswer.isCode || typeof response.modelAnswer.content !== \"string\") {\n            throw new Error(\"Coding response must include isCode flag and content\");\n        }\n    } else {\n        if (typeof response.modelAnswer.content !== \"string\") {\n            throw new Error(\"Model answer must include content string\");\n        }\n    }\n    return response;\n}\nfunction sanitizeTechnology(tech) {\n    // Map of special cases (case-insensitive)\n    const specialCases = {\n        \"c++\": \"cpp\",\n        \"c#\": \"csharp\",\n        \".net\": \"dotnet\",\n        \"node.js\": \"nodejs\",\n        \"react.js\": \"react\",\n        \"vue.js\": \"vue\"\n    };\n    // Check for special cases (case-insensitive)\n    const lowerTech = tech.toLowerCase();\n    if (specialCases[lowerTech]) {\n        return specialCases[lowerTech];\n    }\n    // Remove special characters and spaces for other cases\n    return tech.replace(/[^a-zA-Z0-9]/g, \"\");\n}\nfunction generateQuestionPrompt(technology, difficulty, questionNumber, questionType) {\n    // Different prompts based on question type\n    if (questionType.toLowerCase() === \"mcq\") {\n        return `You are a technical interviewer specializing in ${technology}. Generate a multiple choice question (MCQ) that tests knowledge of ${technology}.\n\nThe question should:\n1. Test specific knowledge in ${technology}\n2. Be appropriate for ${difficulty} difficulty level\n3. Have exactly 4 options (A, B, C, D)\n4. Have only one correct answer\n5. Question number ${questionNumber} in the sequence - ensure it's completely different from previous questions\n6. Include clear explanations for why each option is correct or incorrect\n\nIMPORTANT: Return ONLY a valid JSON object with the following fields:\n{\n  \"question\": \"The MCQ question text - must be specific to ${technology}\",\n  \"expectedTopics\": [\n    \"List of concepts being tested\",\n    \"Key ${technology} knowledge points covered\"\n  ],\n  \"difficulty\": ${difficulty === \"Easy\" ? 1 : difficulty === \"Medium\" ? 2 : 3},\n  \"modelAnswer\": {\n    \"options\": {\n      \"A\": \"First option\",\n      \"B\": \"Second option\",\n      \"C\": \"Third option\",\n      \"D\": \"Fourth option\"\n    },\n    \"correctOption\": \"The correct option letter (A, B, C, or D)\",\n    \"explanation\": \"Detailed explanation of why the correct answer is right and why others are wrong\"\n  }\n}\n\nReturn ONLY the JSON object, no additional text. Ensure all strings are properly escaped.`;\n    }\n    if (questionType.toLowerCase() === \"subjective\") {\n        return `You are a technical interviewer specializing in ${technology}. Generate a logical reasoning and analytical thinking question that is relevant to ${technology} development scenarios.\n\nThe question should:\n1. Test critical thinking and problem-solving abilities in the context of ${technology} projects\n2. Focus on real-world scenarios a ${technology} developer might face\n3. Be appropriate for ${difficulty} difficulty level\n4. Test decision-making and analytical skills specific to ${technology} development\n5. Question number ${questionNumber} in the sequence - ensure it's different from previous questions\n\nIMPORTANT: Return ONLY a valid JSON object with the following fields:\n{\n  \"question\": \"The question text - must be specific to ${technology}\",\n  \"expectedTopics\": [\n    \"List of 4-5 key points that should be covered in the answer\",\n    \"Each point should be relevant to ${technology}\"\n  ],\n  \"difficulty\": ${difficulty === \"Easy\" ? 1 : difficulty === \"Medium\" ? 2 : 3},\n  \"modelAnswer\": {\n    \"isCode\": false,\n    \"content\": \"A detailed explanation of what a good answer should include, specific to ${technology}\"\n  }\n}\n\nReturn ONLY the JSON object, no additional text. Ensure all strings are properly escaped.`;\n    }\n    // For coding questions\n    if (questionType.toLowerCase() === \"coding\") {\n        return `You are a technical interviewer specializing in ${technology}. Generate a coding question that tests practical ${technology} implementation skills.\n\nThe question should:\n1. Test coding ability in ${technology}\n2. Be appropriate for ${difficulty} difficulty level\n3. Focus on real-world scenarios\n4. Be clear and unambiguous\n5. Question number ${questionNumber} in the sequence - ensure it's different from previous questions\n\nIMPORTANT: Return ONLY a valid JSON object with the following fields. Ensure all code in the content field is properly escaped:\n{\n  \"question\": \"The coding problem statement with clear requirements and examples\",\n  \"expectedTopics\": [\n    \"List of concepts and skills being tested\",\n    \"Important considerations for the implementation\"\n  ],\n  \"difficulty\": ${difficulty === \"Easy\" ? 1 : difficulty === \"Medium\" ? 2 : 3},\n  \"modelAnswer\": {\n    \"isCode\": true,\n    \"content\": \"// Your code solution here\\\\n// Use double backslashes for newlines\\\\n// Escape all quotes\"\n  }\n}\n\nRULES for the content field:\n1. Use double backslashes for newlines (\\\\n)\n2. Escape all quotes (\\\\\" for double quotes)\n3. Avoid using backticks\n4. Keep indentation using spaces (no tabs)\n5. Escape any special characters\n\nReturn ONLY the JSON object, no additional text.`;\n    }\n    // For MCQ questions\n    return `You are a technical interviewer specializing in ${technology}. Generate a multiple-choice question that tests ${technology} knowledge.\n\nThe question should:\n1. Test understanding of ${technology} concepts\n2. Be appropriate for ${difficulty} difficulty level\n3. Have clear, unambiguous options\n4. Question number ${questionNumber} in the sequence - ensure it's different from previous questions\n\nIMPORTANT: Return ONLY a valid JSON object with the following fields:\n{\n  \"question\": \"The question text\",\n  \"expectedTopics\": [\"Key concepts being tested\"],\n  \"difficulty\": ${difficulty === \"Easy\" ? 1 : difficulty === \"Medium\" ? 2 : 3},\n  \"modelAnswer\": {\n    \"isCode\": false,\n    \"content\": \"Explanation of why the correct answer is right\"\n  },\n  \"options\": [\n    \"A) First option\",\n    \"B) Second option\",\n    \"C) Third option\",\n    \"D) Fourth option\"\n  ],\n  \"correctOption\": \"A\"\n}\n\nReturn ONLY the JSON object, no additional text. Ensure all strings are properly escaped.`;\n}\nasync function generateQuestion(technology, difficulty, questionNumber, questionType) {\n    try {\n        const prompt = generateQuestionPrompt(technology, difficulty, questionNumber, questionType);\n        const response = await makeGroqRequest(prompt);\n        if (!response?.choices?.[0]?.message?.content) {\n            console.error(\"Invalid GROQ response structure:\", response);\n            throw new Error(\"Invalid response structure from GROQ API\");\n        }\n        const content = response.choices[0].message.content;\n        // Detailed logging of the response content\n        console.log(\"Raw response from GROQ:\", content);\n        console.log(\"Response type:\", typeof content);\n        console.log(\"Response length:\", content.length);\n        console.log(\"First 100 characters:\", content.substring(0, 100));\n        // Parse and validate the JSON\n        const parsedResponse = parseJsonResponse(content);\n        // Log the parsed response\n        console.log(\"Successfully parsed response:\", {\n            hasQuestion: !!parsedResponse?.question,\n            hasTopics: !!parsedResponse?.expectedTopics,\n            hasDifficulty: !!parsedResponse?.difficulty,\n            hasModelAnswer: !!parsedResponse?.modelAnswer\n        });\n        // Additional validation for the response structure\n        validateQuestionResponse(parsedResponse, questionType);\n        return parsedResponse;\n    } catch (error) {\n        console.error(\"Error in generateQuestion:\", error);\n        if (error instanceof Error) {\n            console.error(\"Error type:\", error.constructor.name);\n            console.error(\"Error stack:\", error.stack);\n        } else {\n            console.error(\"Non-Error object thrown\");\n        }\n        throw error;\n    }\n}\nasync function analyzeResponse(question, response, expectedTopics) {\n    if (!GROQ_API_KEY) {\n        throw new Error(\"GROQ API key is not configured\");\n    }\n    const prompt = `Analyze this response to the following interview question. Provide feedback and a score out of 10.\n\nQuestion: ${question}\n\nResponse: ${response}\n\nExpected topics to be covered:\n${expectedTopics.map((topic)=>`- ${topic}`).join(\"\\n\")}\n\nReturn your analysis in this JSON format:\n{\n  \"score\": 8,\n  \"feedback\": \"Detailed feedback about the response\",\n  \"coveredTopics\": [\"Topics that were covered well in the response\"],\n  \"missingTopics\": [\"Expected topics that were not covered\"],\n  \"improvement\": \"Suggestions for improvement\"\n}\n\nMake sure to:\n1. Score between 0 and 10 points only\n2. Include all topics from the expected topics list in either coveredTopics or missingTopics\n3. Provide specific, actionable feedback`;\n    try {\n        const apiResponse = await makeGroqRequest(prompt);\n        if (!apiResponse?.choices?.[0]?.message?.content) {\n            throw new Error(\"Invalid response structure from GROQ API\");\n        }\n        // Parse the response with required fields\n        const result = parseJsonResponse(apiResponse.choices[0].message.content, [\n            \"score\",\n            \"feedback\",\n            \"coveredTopics\",\n            \"missingTopics\"\n        ] // Make improvement optional\n        );\n        // Ensure score is between 0 and 10\n        if (typeof result.score === \"number\") {\n            if (result.score > 10) {\n                result.score = Math.min(10, result.score / 10); // Convert percentage to 10-point scale\n            }\n            result.score = Math.max(0, Math.min(10, result.score));\n        } else {\n            result.score = 0;\n        }\n        // Ensure coveredTopics and missingTopics are arrays\n        if (!Array.isArray(result.coveredTopics)) {\n            result.coveredTopics = [];\n        }\n        if (!Array.isArray(result.missingTopics)) {\n            result.missingTopics = [];\n        }\n        return result;\n    } catch (error) {\n        console.error(\"Error in analyzeResponse:\", error);\n        if (error instanceof Error) {\n            console.error(\"Error type:\", error.constructor.name);\n            console.error(\"Error stack:\", error.stack);\n        } else {\n            console.error(\"Non-Error object thrown\");\n        }\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsSUFBSUEsaUJBQWlCcEIsT0FBTztZQUMxQm1CLFFBQVFDLEtBQUssQ0FBQyxlQUFlQSxNQUFNTSxXQUFXLENBQUNDLElBQUk7WUFDbkRSLFFBQVFDLEtBQUssQ0FBQyxnQkFBZ0JBLE1BQU1RLEtBQUs7UUFDM0MsT0FBTztZQUNMVCxRQUFRQyxLQUFLLENBQUM7UUFDaEI7UUFDQSxNQUFNQTtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1pbnRlcnZpZXdlci8uL3NyYy91dGlscy9ncm9xLnRzP2ZiYzkiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgR1JPUV9BUElfS0VZID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR1JPUV9BUElfS0VZO1xuXG5jb25zdCBBUElfVVJMID0gJ2h0dHBzOi8vYXBpLmdyb3EuY29tL29wZW5haS92MS9jaGF0L2NvbXBsZXRpb25zJztcblxuLy8gUmF0ZSBsaW1pdGluZyBjb25maWd1cmF0aW9uXG5sZXQgbGFzdFJlcXVlc3RUaW1lID0gMDtcbmNvbnN0IE1JTl9SRVFVRVNUX0lOVEVSVkFMID0gMzAwMDsgLy8gMyBzZWNvbmRzIGJldHdlZW4gcmVxdWVzdHNcblxuY29uc3Qgc2xlZXAgPSAobXM6IG51bWJlcikgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG5cbmNvbnN0IHdhaXRGb3JSYXRlTGltaXQgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gIGNvbnN0IHRpbWVTaW5jZUxhc3RSZXF1ZXN0ID0gbm93IC0gbGFzdFJlcXVlc3RUaW1lO1xuICBcbiAgaWYgKHRpbWVTaW5jZUxhc3RSZXF1ZXN0IDwgTUlOX1JFUVVFU1RfSU5URVJWQUwpIHtcbiAgICBjb25zdCB3YWl0VGltZSA9IE1JTl9SRVFVRVNUX0lOVEVSVkFMIC0gdGltZVNpbmNlTGFzdFJlcXVlc3Q7XG4gICAgYXdhaXQgc2xlZXAod2FpdFRpbWUpO1xuICB9XG4gIFxuICBsYXN0UmVxdWVzdFRpbWUgPSBEYXRlLm5vdygpO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gbWFrZUdyb3FSZXF1ZXN0KHByb21wdDogc3RyaW5nKSB7XG4gIGlmICghR1JPUV9BUElfS0VZKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdHUk9RIEFQSSBrZXkgaXMgbm90IGNvbmZpZ3VyZWQnKTtcbiAgfVxuXG4gIGF3YWl0IHdhaXRGb3JSYXRlTGltaXQoKTtcblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goQVBJX1VSTCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke0dST1FfQVBJX0tFWX1gLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbW9kZWw6ICdsbGFtYS0zLjItOTBiLXZpc2lvbi1wcmV2aWV3JyxcbiAgICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICByb2xlOiAnc3lzdGVtJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdZb3UgYXJlIGEgdGVjaG5pY2FsIGludGVydmlld2VyLiBZb3VyIHJlc3BvbnNlcyBtdXN0IGJlIGluIHZhbGlkIEpTT04gZm9ybWF0LiBBbHdheXMgd3JhcCBwcm9wZXJ0eSBuYW1lcyBpbiBkb3VibGUgcXVvdGVzLiBEbyBub3QgaW5jbHVkZSBhbnkgdGV4dCBiZWZvcmUgb3IgYWZ0ZXIgdGhlIEpTT04gb2JqZWN0LicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICBjb250ZW50OiBwcm9tcHQsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgdGVtcGVyYXR1cmU6IDAuNyxcbiAgICAgICAgbWF4X3Rva2VuczogMTAwMCxcbiAgICAgICAgdG9wX3A6IDAuOTUsXG4gICAgICAgIHN0cmVhbTogZmFsc2UsXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSByZXNwb25zZSBlcnJvcjonLCB7XG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICBlcnJvclRleHRcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MjkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSYXRlIGxpbWl0IGV4Y2VlZGVkJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQVBJIHJlcXVlc3QgZmFpbGVkOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBjb25zb2xlLmxvZygnUmF3IEFQSSByZXNwb25zZTonLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZURhdGEsIG51bGwsIDIpKTtcbiAgICByZXR1cm4gcmVzcG9uc2VEYXRhO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIG1ha2VHcm9xUmVxdWVzdDonLCBlcnJvcik7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHR5cGU6JywgZXJyb3IuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdGFjazonLCBlcnJvci5zdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ05vbi1FcnJvciBvYmplY3QgdGhyb3duJyk7XG4gICAgfVxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmludGVyZmFjZSBNb2RlbEFuc3dlciB7XG4gIGlzQ29kZTogYm9vbGVhbjtcbiAgbGFuZ3VhZ2U/OiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgb3B0aW9ucz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gIGNvcnJlY3RPcHRpb24/OiBzdHJpbmc7XG4gIGV4cGxhbmF0aW9uPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgUXVlc3Rpb24ge1xuICBxdWVzdGlvbjogc3RyaW5nO1xuICBleHBlY3RlZFRvcGljczogc3RyaW5nW107XG4gIGRpZmZpY3VsdHk6IG51bWJlcjtcbiAgbW9kZWxBbnN3ZXI6IE1vZGVsQW5zd2VyO1xufVxuXG5mdW5jdGlvbiBwYXJzZUpzb25SZXNwb25zZShyZXNwb25zZTogc3RyaW5nLCByZXF1aXJlZEZpZWxkczogc3RyaW5nW10gPSBbJ3F1ZXN0aW9uJywgJ2V4cGVjdGVkVG9waWNzJywgJ2RpZmZpY3VsdHknLCAnbW9kZWxBbnN3ZXInXSk6IGFueSB7XG4gIGlmICghcmVzcG9uc2UgfHwgdHlwZW9mIHJlc3BvbnNlICE9PSAnc3RyaW5nJykge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgcmVzcG9uc2UgdHlwZTonLCB0eXBlb2YgcmVzcG9uc2UpO1xuICAgIHRocm93IG5ldyBFcnJvcignUmVzcG9uc2UgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTtcbiAgfVxuXG4gIGNvbnNvbGUubG9nKCdBdHRlbXB0aW5nIHRvIHBhcnNlIHJlc3BvbnNlOicsIHJlc3BvbnNlKTtcblxuICAvLyBGaXJzdCwgdHJ5IHRvIGZpbmQgYSBKU09OIG9iamVjdCBpbiB0aGUgcmVzcG9uc2VcbiAgY29uc3QganNvbk1hdGNoID0gcmVzcG9uc2UubWF0Y2goL1xce1tcXHNcXFNdKlxcfS8pO1xuICBpZiAoIWpzb25NYXRjaCkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ05vIEpTT04gb2JqZWN0IGZvdW5kIGluIHJlc3BvbnNlJyk7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBKU09OIG9iamVjdCBmb3VuZCBpbiByZXNwb25zZScpO1xuICB9XG5cbiAgbGV0IGNsZWFuZWRSZXNwb25zZSA9IGpzb25NYXRjaFswXTtcblxuICB0cnkge1xuICAgIC8vIFRyeSBwYXJzaW5nIHRoZSBleHRyYWN0ZWQgSlNPTiBmaXJzdFxuICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoY2xlYW5lZFJlc3BvbnNlKTtcbiAgICBcbiAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICBjb25zdCBtaXNzaW5nRmllbGRzID0gcmVxdWlyZWRGaWVsZHMuZmlsdGVyKGZpZWxkID0+ICEoZmllbGQgaW4gcGFyc2VkKSk7XG4gICAgaWYgKG1pc3NpbmdGaWVsZHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIHJlcXVpcmVkIGZpZWxkczogJHttaXNzaW5nRmllbGRzLmpvaW4oJywgJyl9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlZDtcbiAgfSBjYXRjaCAoaW5pdGlhbEVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignSW5pdGlhbCBKU09OIFBhcnNlIEVycm9yOicsIGluaXRpYWxFcnJvcik7XG4gICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBwYXJzZSBKU09OLiBSZXNwb25zZSBkZXRhaWxzOicsIHtcbiAgICAgIHR5cGU6IHR5cGVvZiBjbGVhbmVkUmVzcG9uc2UsXG4gICAgICBsZW5ndGg6IGNsZWFuZWRSZXNwb25zZS5sZW5ndGgsXG4gICAgICBwcmV2aWV3OiBjbGVhbmVkUmVzcG9uc2Uuc3Vic3RyaW5nKDAsIDEwMCksXG4gICAgICBjaGFyQ29kZXM6IGNsZWFuZWRSZXNwb25zZS5zdWJzdHJpbmcoMCwgNTApLnNwbGl0KCcnKS5tYXAoKGMsIGkpID0+IGBbJHtpfV0ke2N9KCR7Yy5jaGFyQ29kZUF0KDApfSlgKS5qb2luKCcgJylcbiAgICB9KTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gVHJ5IHRvIGZpeCBjb21tb24gSlNPTiBpc3N1ZXNcbiAgICAgIGNsZWFuZWRSZXNwb25zZSA9IGNsZWFuZWRSZXNwb25zZVxuICAgICAgICAucmVwbGFjZSgvXlxccyp8XFxzKiQvZywgJycpIC8vIFRyaW0gd2hpdGVzcGFjZVxuICAgICAgICAucmVwbGFjZSgvW1xcdTIwMEItXFx1MjAwRFxcdUZFRkZdL2csICcnKSAvLyBSZW1vdmUgemVyby13aWR0aCBzcGFjZXNcbiAgICAgICAgLnJlcGxhY2UoLywoXFxzKlt9XFxdXSkvZywgJyQxJykgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hc1xuICAgICAgICAucmVwbGFjZSgvKFt7LF1cXHMqKShcXHcrKShcXHMqOikvZywgJyQxXCIkMlwiJDMnKSAvLyBRdW90ZSB1bnF1b3RlZCBrZXlzXG4gICAgICAgIC5yZXBsYWNlKC86XFxzKicoW14nXSopJy9nLCAnOlwiJDFcIicpIC8vIFJlcGxhY2Ugc2luZ2xlIHF1b3RlcyB3aXRoIGRvdWJsZSBxdW90ZXNcbiAgICAgICAgLnJlcGxhY2UoL1xcXFwoW15cIlxcXFxcXC9iZm5ydHVdKS9nLCAnJDEnKSAvLyBGaXggaW52YWxpZCBlc2NhcGUgc2VxdWVuY2VzXG4gICAgICAgIC5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJykgLy8gRXNjYXBlIG5ld2xpbmVzXG4gICAgICAgIC5yZXBsYWNlKC9cXHIvZywgJ1xcXFxyJykgLy8gRXNjYXBlIGNhcnJpYWdlIHJldHVybnNcbiAgICAgICAgLnJlcGxhY2UoL1xcdC9nLCAnXFxcXHQnKTsgLy8gRXNjYXBlIHRhYnNcblxuICAgICAgY29uc29sZS5sb2coJ0NsZWFuZWQgcmVzcG9uc2U6JywgY2xlYW5lZFJlc3BvbnNlKTtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoY2xlYW5lZFJlc3BvbnNlKTtcbiAgICAgIFxuICAgICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzIGFnYWluXG4gICAgICBjb25zdCBtaXNzaW5nRmllbGRzID0gcmVxdWlyZWRGaWVsZHMuZmlsdGVyKGZpZWxkID0+ICEoZmllbGQgaW4gcGFyc2VkKSk7XG4gICAgICBpZiAobWlzc2luZ0ZpZWxkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyByZXF1aXJlZCBmaWVsZHMgYWZ0ZXIgY2xlYW5pbmc6ICR7bWlzc2luZ0ZpZWxkcy5qb2luKCcsICcpfWApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFyc2VkO1xuICAgIH0gY2F0Y2ggKGZpbmFsRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZpbmFsIEpTT04gUGFyc2UgRXJyb3I6JywgZmluYWxFcnJvcik7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBmaW5hbEVycm9yIGluc3RhbmNlb2YgRXJyb3IgXG4gICAgICAgID8gZmluYWxFcnJvci5tZXNzYWdlIFxuICAgICAgICA6ICdVbmtub3duIGVycm9yIG9jY3VycmVkIHdoaWxlIHBhcnNpbmcgSlNPTic7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBwYXJzZSByZXNwb25zZSBhcyBKU09OOiAke2Vycm9yTWVzc2FnZX1cXG5SZXNwb25zZTogJHtjbGVhbmVkUmVzcG9uc2V9YCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVF1ZXN0aW9uUmVzcG9uc2UocmVzcG9uc2U6IGFueSwgcXVlc3Rpb25UeXBlOiBzdHJpbmcpIHtcbiAgaWYgKCFyZXNwb25zZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmVzcG9uc2UgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkJyk7XG4gIH1cblxuICBjb25zdCByZXF1aXJlZEZpZWxkcyA9IFsncXVlc3Rpb24nLCAnZXhwZWN0ZWRUb3BpY3MnLCAnZGlmZmljdWx0eScsICdtb2RlbEFuc3dlciddO1xuICBjb25zdCBtaXNzaW5nRmllbGRzID0gcmVxdWlyZWRGaWVsZHMuZmlsdGVyKGZpZWxkID0+ICEoZmllbGQgaW4gcmVzcG9uc2UpKTtcbiAgXG4gIGlmIChtaXNzaW5nRmllbGRzLmxlbmd0aCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgcmVxdWlyZWQgZmllbGRzOiAke21pc3NpbmdGaWVsZHMuam9pbignLCAnKX1gKTtcbiAgfVxuXG4gIGlmICghQXJyYXkuaXNBcnJheShyZXNwb25zZS5leHBlY3RlZFRvcGljcykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4cGVjdGVkVG9waWNzIG11c3QgYmUgYW4gYXJyYXknKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcmVzcG9uc2UuZGlmZmljdWx0eSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RpZmZpY3VsdHkgbXVzdCBiZSBhIG51bWJlcicpO1xuICB9XG5cbiAgaWYgKHF1ZXN0aW9uVHlwZS50b0xvd2VyQ2FzZSgpID09PSAnbWNxJykge1xuICAgIGlmICghcmVzcG9uc2UubW9kZWxBbnN3ZXIub3B0aW9ucyB8fCB0eXBlb2YgcmVzcG9uc2UubW9kZWxBbnN3ZXIub3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTUNRIHJlc3BvbnNlIG11c3QgaW5jbHVkZSBvcHRpb25zIG9iamVjdCcpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlcXVpcmVkT3B0aW9ucyA9IFsnQScsICdCJywgJ0MnLCAnRCddO1xuICAgIGNvbnN0IG1pc3NpbmdPcHRpb25zID0gcmVxdWlyZWRPcHRpb25zLmZpbHRlcihvcHQgPT4gIShvcHQgaW4gcmVzcG9uc2UubW9kZWxBbnN3ZXIub3B0aW9ucykpO1xuICAgIFxuICAgIGlmIChtaXNzaW5nT3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgTUNRIG9wdGlvbnM6ICR7bWlzc2luZ09wdGlvbnMuam9pbignLCAnKX1gKTtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlLm1vZGVsQW5zd2VyLmNvcnJlY3RPcHRpb24gfHwgIXJlcXVpcmVkT3B0aW9ucy5pbmNsdWRlcyhyZXNwb25zZS5tb2RlbEFuc3dlci5jb3JyZWN0T3B0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNQ1EgcmVzcG9uc2UgbXVzdCBpbmNsdWRlIGEgdmFsaWQgY29ycmVjdE9wdGlvbiAoQSwgQiwgQywgb3IgRCknKTtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlLm1vZGVsQW5zd2VyLmV4cGxhbmF0aW9uIHx8IHR5cGVvZiByZXNwb25zZS5tb2RlbEFuc3dlci5leHBsYW5hdGlvbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTUNRIHJlc3BvbnNlIG11c3QgaW5jbHVkZSBhbiBleHBsYW5hdGlvbicpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChxdWVzdGlvblR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2NvZGluZycpIHtcbiAgICBpZiAoIXJlc3BvbnNlLm1vZGVsQW5zd2VyLmlzQ29kZSB8fCB0eXBlb2YgcmVzcG9uc2UubW9kZWxBbnN3ZXIuY29udGVudCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ29kaW5nIHJlc3BvbnNlIG11c3QgaW5jbHVkZSBpc0NvZGUgZmxhZyBhbmQgY29udGVudCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIHJlc3BvbnNlLm1vZGVsQW5zd2VyLmNvbnRlbnQgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vZGVsIGFuc3dlciBtdXN0IGluY2x1ZGUgY29udGVudCBzdHJpbmcnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzcG9uc2U7XG59XG5cbmZ1bmN0aW9uIHNhbml0aXplVGVjaG5vbG9neSh0ZWNoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAvLyBNYXAgb2Ygc3BlY2lhbCBjYXNlcyAoY2FzZS1pbnNlbnNpdGl2ZSlcbiAgY29uc3Qgc3BlY2lhbENhc2VzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuICAgICdjKysnOiAnY3BwJyxcbiAgICAnYyMnOiAnY3NoYXJwJyxcbiAgICAnLm5ldCc6ICdkb3RuZXQnLFxuICAgICdub2RlLmpzJzogJ25vZGVqcycsXG4gICAgJ3JlYWN0LmpzJzogJ3JlYWN0JyxcbiAgICAndnVlLmpzJzogJ3Z1ZScsXG4gIH07XG5cbiAgLy8gQ2hlY2sgZm9yIHNwZWNpYWwgY2FzZXMgKGNhc2UtaW5zZW5zaXRpdmUpXG4gIGNvbnN0IGxvd2VyVGVjaCA9IHRlY2gudG9Mb3dlckNhc2UoKTtcbiAgaWYgKHNwZWNpYWxDYXNlc1tsb3dlclRlY2hdKSB7XG4gICAgcmV0dXJuIHNwZWNpYWxDYXNlc1tsb3dlclRlY2hdO1xuICB9XG5cbiAgLy8gUmVtb3ZlIHNwZWNpYWwgY2hhcmFjdGVycyBhbmQgc3BhY2VzIGZvciBvdGhlciBjYXNlc1xuICByZXR1cm4gdGVjaC5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywgJycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVRdWVzdGlvblByb21wdCh0ZWNobm9sb2d5OiBzdHJpbmcsIGRpZmZpY3VsdHk6IHN0cmluZywgcXVlc3Rpb25OdW1iZXI6IG51bWJlciwgcXVlc3Rpb25UeXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAvLyBEaWZmZXJlbnQgcHJvbXB0cyBiYXNlZCBvbiBxdWVzdGlvbiB0eXBlXG4gIGlmIChxdWVzdGlvblR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ21jcScpIHtcbiAgICByZXR1cm4gYFlvdSBhcmUgYSB0ZWNobmljYWwgaW50ZXJ2aWV3ZXIgc3BlY2lhbGl6aW5nIGluICR7dGVjaG5vbG9neX0uIEdlbmVyYXRlIGEgbXVsdGlwbGUgY2hvaWNlIHF1ZXN0aW9uIChNQ1EpIHRoYXQgdGVzdHMga25vd2xlZGdlIG9mICR7dGVjaG5vbG9neX0uXG5cblRoZSBxdWVzdGlvbiBzaG91bGQ6XG4xLiBUZXN0IHNwZWNpZmljIGtub3dsZWRnZSBpbiAke3RlY2hub2xvZ3l9XG4yLiBCZSBhcHByb3ByaWF0ZSBmb3IgJHtkaWZmaWN1bHR5fSBkaWZmaWN1bHR5IGxldmVsXG4zLiBIYXZlIGV4YWN0bHkgNCBvcHRpb25zIChBLCBCLCBDLCBEKVxuNC4gSGF2ZSBvbmx5IG9uZSBjb3JyZWN0IGFuc3dlclxuNS4gUXVlc3Rpb24gbnVtYmVyICR7cXVlc3Rpb25OdW1iZXJ9IGluIHRoZSBzZXF1ZW5jZSAtIGVuc3VyZSBpdCdzIGNvbXBsZXRlbHkgZGlmZmVyZW50IGZyb20gcHJldmlvdXMgcXVlc3Rpb25zXG42LiBJbmNsdWRlIGNsZWFyIGV4cGxhbmF0aW9ucyBmb3Igd2h5IGVhY2ggb3B0aW9uIGlzIGNvcnJlY3Qgb3IgaW5jb3JyZWN0XG5cbklNUE9SVEFOVDogUmV0dXJuIE9OTFkgYSB2YWxpZCBKU09OIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxue1xuICBcInF1ZXN0aW9uXCI6IFwiVGhlIE1DUSBxdWVzdGlvbiB0ZXh0IC0gbXVzdCBiZSBzcGVjaWZpYyB0byAke3RlY2hub2xvZ3l9XCIsXG4gIFwiZXhwZWN0ZWRUb3BpY3NcIjogW1xuICAgIFwiTGlzdCBvZiBjb25jZXB0cyBiZWluZyB0ZXN0ZWRcIixcbiAgICBcIktleSAke3RlY2hub2xvZ3l9IGtub3dsZWRnZSBwb2ludHMgY292ZXJlZFwiXG4gIF0sXG4gIFwiZGlmZmljdWx0eVwiOiAke2RpZmZpY3VsdHkgPT09ICdFYXN5JyA/IDEgOiBkaWZmaWN1bHR5ID09PSAnTWVkaXVtJyA/IDIgOiAzfSxcbiAgXCJtb2RlbEFuc3dlclwiOiB7XG4gICAgXCJvcHRpb25zXCI6IHtcbiAgICAgIFwiQVwiOiBcIkZpcnN0IG9wdGlvblwiLFxuICAgICAgXCJCXCI6IFwiU2Vjb25kIG9wdGlvblwiLFxuICAgICAgXCJDXCI6IFwiVGhpcmQgb3B0aW9uXCIsXG4gICAgICBcIkRcIjogXCJGb3VydGggb3B0aW9uXCJcbiAgICB9LFxuICAgIFwiY29ycmVjdE9wdGlvblwiOiBcIlRoZSBjb3JyZWN0IG9wdGlvbiBsZXR0ZXIgKEEsIEIsIEMsIG9yIEQpXCIsXG4gICAgXCJleHBsYW5hdGlvblwiOiBcIkRldGFpbGVkIGV4cGxhbmF0aW9uIG9mIHdoeSB0aGUgY29ycmVjdCBhbnN3ZXIgaXMgcmlnaHQgYW5kIHdoeSBvdGhlcnMgYXJlIHdyb25nXCJcbiAgfVxufVxuXG5SZXR1cm4gT05MWSB0aGUgSlNPTiBvYmplY3QsIG5vIGFkZGl0aW9uYWwgdGV4dC4gRW5zdXJlIGFsbCBzdHJpbmdzIGFyZSBwcm9wZXJseSBlc2NhcGVkLmA7XG4gIH1cblxuICBpZiAocXVlc3Rpb25UeXBlLnRvTG93ZXJDYXNlKCkgPT09ICdzdWJqZWN0aXZlJykge1xuICAgIHJldHVybiBgWW91IGFyZSBhIHRlY2huaWNhbCBpbnRlcnZpZXdlciBzcGVjaWFsaXppbmcgaW4gJHt0ZWNobm9sb2d5fS4gR2VuZXJhdGUgYSBsb2dpY2FsIHJlYXNvbmluZyBhbmQgYW5hbHl0aWNhbCB0aGlua2luZyBxdWVzdGlvbiB0aGF0IGlzIHJlbGV2YW50IHRvICR7dGVjaG5vbG9neX0gZGV2ZWxvcG1lbnQgc2NlbmFyaW9zLlxuXG5UaGUgcXVlc3Rpb24gc2hvdWxkOlxuMS4gVGVzdCBjcml0aWNhbCB0aGlua2luZyBhbmQgcHJvYmxlbS1zb2x2aW5nIGFiaWxpdGllcyBpbiB0aGUgY29udGV4dCBvZiAke3RlY2hub2xvZ3l9IHByb2plY3RzXG4yLiBGb2N1cyBvbiByZWFsLXdvcmxkIHNjZW5hcmlvcyBhICR7dGVjaG5vbG9neX0gZGV2ZWxvcGVyIG1pZ2h0IGZhY2VcbjMuIEJlIGFwcHJvcHJpYXRlIGZvciAke2RpZmZpY3VsdHl9IGRpZmZpY3VsdHkgbGV2ZWxcbjQuIFRlc3QgZGVjaXNpb24tbWFraW5nIGFuZCBhbmFseXRpY2FsIHNraWxscyBzcGVjaWZpYyB0byAke3RlY2hub2xvZ3l9IGRldmVsb3BtZW50XG41LiBRdWVzdGlvbiBudW1iZXIgJHtxdWVzdGlvbk51bWJlcn0gaW4gdGhlIHNlcXVlbmNlIC0gZW5zdXJlIGl0J3MgZGlmZmVyZW50IGZyb20gcHJldmlvdXMgcXVlc3Rpb25zXG5cbklNUE9SVEFOVDogUmV0dXJuIE9OTFkgYSB2YWxpZCBKU09OIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxue1xuICBcInF1ZXN0aW9uXCI6IFwiVGhlIHF1ZXN0aW9uIHRleHQgLSBtdXN0IGJlIHNwZWNpZmljIHRvICR7dGVjaG5vbG9neX1cIixcbiAgXCJleHBlY3RlZFRvcGljc1wiOiBbXG4gICAgXCJMaXN0IG9mIDQtNSBrZXkgcG9pbnRzIHRoYXQgc2hvdWxkIGJlIGNvdmVyZWQgaW4gdGhlIGFuc3dlclwiLFxuICAgIFwiRWFjaCBwb2ludCBzaG91bGQgYmUgcmVsZXZhbnQgdG8gJHt0ZWNobm9sb2d5fVwiXG4gIF0sXG4gIFwiZGlmZmljdWx0eVwiOiAke2RpZmZpY3VsdHkgPT09ICdFYXN5JyA/IDEgOiBkaWZmaWN1bHR5ID09PSAnTWVkaXVtJyA/IDIgOiAzfSxcbiAgXCJtb2RlbEFuc3dlclwiOiB7XG4gICAgXCJpc0NvZGVcIjogZmFsc2UsXG4gICAgXCJjb250ZW50XCI6IFwiQSBkZXRhaWxlZCBleHBsYW5hdGlvbiBvZiB3aGF0IGEgZ29vZCBhbnN3ZXIgc2hvdWxkIGluY2x1ZGUsIHNwZWNpZmljIHRvICR7dGVjaG5vbG9neX1cIlxuICB9XG59XG5cblJldHVybiBPTkxZIHRoZSBKU09OIG9iamVjdCwgbm8gYWRkaXRpb25hbCB0ZXh0LiBFbnN1cmUgYWxsIHN0cmluZ3MgYXJlIHByb3Blcmx5IGVzY2FwZWQuYDtcbiAgfVxuXG4gIC8vIEZvciBjb2RpbmcgcXVlc3Rpb25zXG4gIGlmIChxdWVzdGlvblR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2NvZGluZycpIHtcbiAgICByZXR1cm4gYFlvdSBhcmUgYSB0ZWNobmljYWwgaW50ZXJ2aWV3ZXIgc3BlY2lhbGl6aW5nIGluICR7dGVjaG5vbG9neX0uIEdlbmVyYXRlIGEgY29kaW5nIHF1ZXN0aW9uIHRoYXQgdGVzdHMgcHJhY3RpY2FsICR7dGVjaG5vbG9neX0gaW1wbGVtZW50YXRpb24gc2tpbGxzLlxuXG5UaGUgcXVlc3Rpb24gc2hvdWxkOlxuMS4gVGVzdCBjb2RpbmcgYWJpbGl0eSBpbiAke3RlY2hub2xvZ3l9XG4yLiBCZSBhcHByb3ByaWF0ZSBmb3IgJHtkaWZmaWN1bHR5fSBkaWZmaWN1bHR5IGxldmVsXG4zLiBGb2N1cyBvbiByZWFsLXdvcmxkIHNjZW5hcmlvc1xuNC4gQmUgY2xlYXIgYW5kIHVuYW1iaWd1b3VzXG41LiBRdWVzdGlvbiBudW1iZXIgJHtxdWVzdGlvbk51bWJlcn0gaW4gdGhlIHNlcXVlbmNlIC0gZW5zdXJlIGl0J3MgZGlmZmVyZW50IGZyb20gcHJldmlvdXMgcXVlc3Rpb25zXG5cbklNUE9SVEFOVDogUmV0dXJuIE9OTFkgYSB2YWxpZCBKU09OIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgZmllbGRzLiBFbnN1cmUgYWxsIGNvZGUgaW4gdGhlIGNvbnRlbnQgZmllbGQgaXMgcHJvcGVybHkgZXNjYXBlZDpcbntcbiAgXCJxdWVzdGlvblwiOiBcIlRoZSBjb2RpbmcgcHJvYmxlbSBzdGF0ZW1lbnQgd2l0aCBjbGVhciByZXF1aXJlbWVudHMgYW5kIGV4YW1wbGVzXCIsXG4gIFwiZXhwZWN0ZWRUb3BpY3NcIjogW1xuICAgIFwiTGlzdCBvZiBjb25jZXB0cyBhbmQgc2tpbGxzIGJlaW5nIHRlc3RlZFwiLFxuICAgIFwiSW1wb3J0YW50IGNvbnNpZGVyYXRpb25zIGZvciB0aGUgaW1wbGVtZW50YXRpb25cIlxuICBdLFxuICBcImRpZmZpY3VsdHlcIjogJHtkaWZmaWN1bHR5ID09PSAnRWFzeScgPyAxIDogZGlmZmljdWx0eSA9PT0gJ01lZGl1bScgPyAyIDogM30sXG4gIFwibW9kZWxBbnN3ZXJcIjoge1xuICAgIFwiaXNDb2RlXCI6IHRydWUsXG4gICAgXCJjb250ZW50XCI6IFwiLy8gWW91ciBjb2RlIHNvbHV0aW9uIGhlcmVcXFxcbi8vIFVzZSBkb3VibGUgYmFja3NsYXNoZXMgZm9yIG5ld2xpbmVzXFxcXG4vLyBFc2NhcGUgYWxsIHF1b3Rlc1wiXG4gIH1cbn1cblxuUlVMRVMgZm9yIHRoZSBjb250ZW50IGZpZWxkOlxuMS4gVXNlIGRvdWJsZSBiYWNrc2xhc2hlcyBmb3IgbmV3bGluZXMgKFxcXFxuKVxuMi4gRXNjYXBlIGFsbCBxdW90ZXMgKFxcXFxcIiBmb3IgZG91YmxlIHF1b3RlcylcbjMuIEF2b2lkIHVzaW5nIGJhY2t0aWNrc1xuNC4gS2VlcCBpbmRlbnRhdGlvbiB1c2luZyBzcGFjZXMgKG5vIHRhYnMpXG41LiBFc2NhcGUgYW55IHNwZWNpYWwgY2hhcmFjdGVyc1xuXG5SZXR1cm4gT05MWSB0aGUgSlNPTiBvYmplY3QsIG5vIGFkZGl0aW9uYWwgdGV4dC5gO1xuICB9XG5cbiAgLy8gRm9yIE1DUSBxdWVzdGlvbnNcbiAgcmV0dXJuIGBZb3UgYXJlIGEgdGVjaG5pY2FsIGludGVydmlld2VyIHNwZWNpYWxpemluZyBpbiAke3RlY2hub2xvZ3l9LiBHZW5lcmF0ZSBhIG11bHRpcGxlLWNob2ljZSBxdWVzdGlvbiB0aGF0IHRlc3RzICR7dGVjaG5vbG9neX0ga25vd2xlZGdlLlxuXG5UaGUgcXVlc3Rpb24gc2hvdWxkOlxuMS4gVGVzdCB1bmRlcnN0YW5kaW5nIG9mICR7dGVjaG5vbG9neX0gY29uY2VwdHNcbjIuIEJlIGFwcHJvcHJpYXRlIGZvciAke2RpZmZpY3VsdHl9IGRpZmZpY3VsdHkgbGV2ZWxcbjMuIEhhdmUgY2xlYXIsIHVuYW1iaWd1b3VzIG9wdGlvbnNcbjQuIFF1ZXN0aW9uIG51bWJlciAke3F1ZXN0aW9uTnVtYmVyfSBpbiB0aGUgc2VxdWVuY2UgLSBlbnN1cmUgaXQncyBkaWZmZXJlbnQgZnJvbSBwcmV2aW91cyBxdWVzdGlvbnNcblxuSU1QT1JUQU5UOiBSZXR1cm4gT05MWSBhIHZhbGlkIEpTT04gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBmaWVsZHM6XG57XG4gIFwicXVlc3Rpb25cIjogXCJUaGUgcXVlc3Rpb24gdGV4dFwiLFxuICBcImV4cGVjdGVkVG9waWNzXCI6IFtcIktleSBjb25jZXB0cyBiZWluZyB0ZXN0ZWRcIl0sXG4gIFwiZGlmZmljdWx0eVwiOiAke2RpZmZpY3VsdHkgPT09ICdFYXN5JyA/IDEgOiBkaWZmaWN1bHR5ID09PSAnTWVkaXVtJyA/IDIgOiAzfSxcbiAgXCJtb2RlbEFuc3dlclwiOiB7XG4gICAgXCJpc0NvZGVcIjogZmFsc2UsXG4gICAgXCJjb250ZW50XCI6IFwiRXhwbGFuYXRpb24gb2Ygd2h5IHRoZSBjb3JyZWN0IGFuc3dlciBpcyByaWdodFwiXG4gIH0sXG4gIFwib3B0aW9uc1wiOiBbXG4gICAgXCJBKSBGaXJzdCBvcHRpb25cIixcbiAgICBcIkIpIFNlY29uZCBvcHRpb25cIixcbiAgICBcIkMpIFRoaXJkIG9wdGlvblwiLFxuICAgIFwiRCkgRm91cnRoIG9wdGlvblwiXG4gIF0sXG4gIFwiY29ycmVjdE9wdGlvblwiOiBcIkFcIlxufVxuXG5SZXR1cm4gT05MWSB0aGUgSlNPTiBvYmplY3QsIG5vIGFkZGl0aW9uYWwgdGV4dC4gRW5zdXJlIGFsbCBzdHJpbmdzIGFyZSBwcm9wZXJseSBlc2NhcGVkLmA7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVF1ZXN0aW9uKHRlY2hub2xvZ3k6IHN0cmluZywgZGlmZmljdWx0eTogc3RyaW5nLCBxdWVzdGlvbk51bWJlcjogbnVtYmVyLCBxdWVzdGlvblR5cGU6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcHJvbXB0ID0gZ2VuZXJhdGVRdWVzdGlvblByb21wdCh0ZWNobm9sb2d5LCBkaWZmaWN1bHR5LCBxdWVzdGlvbk51bWJlciwgcXVlc3Rpb25UeXBlKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1ha2VHcm9xUmVxdWVzdChwcm9tcHQpO1xuXG4gICAgaWYgKCFyZXNwb25zZT8uY2hvaWNlcz8uWzBdPy5tZXNzYWdlPy5jb250ZW50KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIEdST1EgcmVzcG9uc2Ugc3RydWN0dXJlOicsIHJlc3BvbnNlKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBzdHJ1Y3R1cmUgZnJvbSBHUk9RIEFQSScpO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRlbnQgPSByZXNwb25zZS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudDtcbiAgICBcbiAgICAvLyBEZXRhaWxlZCBsb2dnaW5nIG9mIHRoZSByZXNwb25zZSBjb250ZW50XG4gICAgY29uc29sZS5sb2coJ1JhdyByZXNwb25zZSBmcm9tIEdST1E6JywgY29udGVudCk7XG4gICAgY29uc29sZS5sb2coJ1Jlc3BvbnNlIHR5cGU6JywgdHlwZW9mIGNvbnRlbnQpO1xuICAgIGNvbnNvbGUubG9nKCdSZXNwb25zZSBsZW5ndGg6JywgY29udGVudC5sZW5ndGgpO1xuICAgIGNvbnNvbGUubG9nKCdGaXJzdCAxMDAgY2hhcmFjdGVyczonLCBjb250ZW50LnN1YnN0cmluZygwLCAxMDApKTtcbiAgICBcbiAgICAvLyBQYXJzZSBhbmQgdmFsaWRhdGUgdGhlIEpTT05cbiAgICBjb25zdCBwYXJzZWRSZXNwb25zZSA9IHBhcnNlSnNvblJlc3BvbnNlKGNvbnRlbnQpO1xuICAgIFxuICAgIC8vIExvZyB0aGUgcGFyc2VkIHJlc3BvbnNlXG4gICAgY29uc29sZS5sb2coJ1N1Y2Nlc3NmdWxseSBwYXJzZWQgcmVzcG9uc2U6Jywge1xuICAgICAgaGFzUXVlc3Rpb246ICEhcGFyc2VkUmVzcG9uc2U/LnF1ZXN0aW9uLFxuICAgICAgaGFzVG9waWNzOiAhIXBhcnNlZFJlc3BvbnNlPy5leHBlY3RlZFRvcGljcyxcbiAgICAgIGhhc0RpZmZpY3VsdHk6ICEhcGFyc2VkUmVzcG9uc2U/LmRpZmZpY3VsdHksXG4gICAgICBoYXNNb2RlbEFuc3dlcjogISFwYXJzZWRSZXNwb25zZT8ubW9kZWxBbnN3ZXJcbiAgICB9KTtcbiAgICBcbiAgICAvLyBBZGRpdGlvbmFsIHZhbGlkYXRpb24gZm9yIHRoZSByZXNwb25zZSBzdHJ1Y3R1cmVcbiAgICB2YWxpZGF0ZVF1ZXN0aW9uUmVzcG9uc2UocGFyc2VkUmVzcG9uc2UsIHF1ZXN0aW9uVHlwZSk7XG5cbiAgICByZXR1cm4gcGFyc2VkUmVzcG9uc2U7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gZ2VuZXJhdGVRdWVzdGlvbjonLCBlcnJvcik7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHR5cGU6JywgZXJyb3IuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdGFjazonLCBlcnJvci5zdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ05vbi1FcnJvciBvYmplY3QgdGhyb3duJyk7XG4gICAgfVxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhbmFseXplUmVzcG9uc2UocXVlc3Rpb246IHN0cmluZywgcmVzcG9uc2U6IHN0cmluZywgZXhwZWN0ZWRUb3BpY3M6IHN0cmluZ1tdKSB7XG4gIGlmICghR1JPUV9BUElfS0VZKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdHUk9RIEFQSSBrZXkgaXMgbm90IGNvbmZpZ3VyZWQnKTtcbiAgfVxuXG4gIGNvbnN0IHByb21wdCA9IGBBbmFseXplIHRoaXMgcmVzcG9uc2UgdG8gdGhlIGZvbGxvd2luZyBpbnRlcnZpZXcgcXVlc3Rpb24uIFByb3ZpZGUgZmVlZGJhY2sgYW5kIGEgc2NvcmUgb3V0IG9mIDEwLlxuXG5RdWVzdGlvbjogJHtxdWVzdGlvbn1cblxuUmVzcG9uc2U6ICR7cmVzcG9uc2V9XG5cbkV4cGVjdGVkIHRvcGljcyB0byBiZSBjb3ZlcmVkOlxuJHtleHBlY3RlZFRvcGljcy5tYXAodG9waWMgPT4gYC0gJHt0b3BpY31gKS5qb2luKCdcXG4nKX1cblxuUmV0dXJuIHlvdXIgYW5hbHlzaXMgaW4gdGhpcyBKU09OIGZvcm1hdDpcbntcbiAgXCJzY29yZVwiOiA4LFxuICBcImZlZWRiYWNrXCI6IFwiRGV0YWlsZWQgZmVlZGJhY2sgYWJvdXQgdGhlIHJlc3BvbnNlXCIsXG4gIFwiY292ZXJlZFRvcGljc1wiOiBbXCJUb3BpY3MgdGhhdCB3ZXJlIGNvdmVyZWQgd2VsbCBpbiB0aGUgcmVzcG9uc2VcIl0sXG4gIFwibWlzc2luZ1RvcGljc1wiOiBbXCJFeHBlY3RlZCB0b3BpY3MgdGhhdCB3ZXJlIG5vdCBjb3ZlcmVkXCJdLFxuICBcImltcHJvdmVtZW50XCI6IFwiU3VnZ2VzdGlvbnMgZm9yIGltcHJvdmVtZW50XCJcbn1cblxuTWFrZSBzdXJlIHRvOlxuMS4gU2NvcmUgYmV0d2VlbiAwIGFuZCAxMCBwb2ludHMgb25seVxuMi4gSW5jbHVkZSBhbGwgdG9waWNzIGZyb20gdGhlIGV4cGVjdGVkIHRvcGljcyBsaXN0IGluIGVpdGhlciBjb3ZlcmVkVG9waWNzIG9yIG1pc3NpbmdUb3BpY3NcbjMuIFByb3ZpZGUgc3BlY2lmaWMsIGFjdGlvbmFibGUgZmVlZGJhY2tgO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgYXBpUmVzcG9uc2UgPSBhd2FpdCBtYWtlR3JvcVJlcXVlc3QocHJvbXB0KTtcbiAgICBcbiAgICBpZiAoIWFwaVJlc3BvbnNlPy5jaG9pY2VzPy5bMF0/Lm1lc3NhZ2U/LmNvbnRlbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBzdHJ1Y3R1cmUgZnJvbSBHUk9RIEFQSScpO1xuICAgIH1cblxuICAgIC8vIFBhcnNlIHRoZSByZXNwb25zZSB3aXRoIHJlcXVpcmVkIGZpZWxkc1xuICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlSnNvblJlc3BvbnNlKFxuICAgICAgYXBpUmVzcG9uc2UuY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnQsXG4gICAgICBbJ3Njb3JlJywgJ2ZlZWRiYWNrJywgJ2NvdmVyZWRUb3BpY3MnLCAnbWlzc2luZ1RvcGljcyddIC8vIE1ha2UgaW1wcm92ZW1lbnQgb3B0aW9uYWxcbiAgICApO1xuXG4gICAgLy8gRW5zdXJlIHNjb3JlIGlzIGJldHdlZW4gMCBhbmQgMTBcbiAgICBpZiAodHlwZW9mIHJlc3VsdC5zY29yZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIGlmIChyZXN1bHQuc2NvcmUgPiAxMCkge1xuICAgICAgICByZXN1bHQuc2NvcmUgPSBNYXRoLm1pbigxMCwgcmVzdWx0LnNjb3JlIC8gMTApOyAvLyBDb252ZXJ0IHBlcmNlbnRhZ2UgdG8gMTAtcG9pbnQgc2NhbGVcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5zY29yZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwLCByZXN1bHQuc2NvcmUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnNjb3JlID0gMDtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgY292ZXJlZFRvcGljcyBhbmQgbWlzc2luZ1RvcGljcyBhcmUgYXJyYXlzXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHJlc3VsdC5jb3ZlcmVkVG9waWNzKSkge1xuICAgICAgcmVzdWx0LmNvdmVyZWRUb3BpY3MgPSBbXTtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHJlc3VsdC5taXNzaW5nVG9waWNzKSkge1xuICAgICAgcmVzdWx0Lm1pc3NpbmdUb3BpY3MgPSBbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGFuYWx5emVSZXNwb25zZTonLCBlcnJvcik7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHR5cGU6JywgZXJyb3IuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdGFjazonLCBlcnJvci5zdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ05vbi1FcnJvciBvYmplY3QgdGhyb3duJyk7XG4gICAgfVxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG4iXSwibmFtZXMiOlsiR1JPUV9BUElfS0VZIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0dST1FfQVBJX0tFWSIsIkFQSV9VUkwiLCJsYXN0UmVxdWVzdFRpbWUiLCJNSU5fUkVRVUVTVF9JTlRFUlZBTCIsInNsZWVwIiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJ3YWl0Rm9yUmF0ZUxpbWl0Iiwibm93IiwiRGF0ZSIsInRpbWVTaW5jZUxhc3RSZXF1ZXN0Iiwid2FpdFRpbWUiLCJtYWtlR3JvcVJlcXVlc3QiLCJwcm9tcHQiLCJFcnJvciIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtb2RlbCIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJ0ZW1wZXJhdHVyZSIsIm1heF90b2tlbnMiLCJ0b3BfcCIsInN0cmVhbSIsIm9rIiwiZXJyb3JUZXh0IiwidGV4dCIsImNvbnNvbGUiLCJlcnJvciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJyZXNwb25zZURhdGEiLCJqc29uIiwibG9nIiwiY29uc3RydWN0b3IiLCJuYW1lIiwic3RhY2siLCJwYXJzZUpzb25SZXNwb25zZSIsInJlcXVpcmVkRmllbGRzIiwianNvbk1hdGNoIiwibWF0Y2giLCJjbGVhbmVkUmVzcG9uc2UiLCJwYXJzZWQiLCJwYXJzZSIsIm1pc3NpbmdGaWVsZHMiLCJmaWx0ZXIiLCJmaWVsZCIsImxlbmd0aCIsImpvaW4iLCJpbml0aWFsRXJyb3IiLCJ0eXBlIiwicHJldmlldyIsInN1YnN0cmluZyIsImNoYXJDb2RlcyIsInNwbGl0IiwibWFwIiwiYyIsImkiLCJjaGFyQ29kZUF0IiwicmVwbGFjZSIsImZpbmFsRXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwidmFsaWRhdGVRdWVzdGlvblJlc3BvbnNlIiwicXVlc3Rpb25UeXBlIiwiQXJyYXkiLCJpc0FycmF5IiwiZXhwZWN0ZWRUb3BpY3MiLCJkaWZmaWN1bHR5IiwidG9Mb3dlckNhc2UiLCJtb2RlbEFuc3dlciIsIm9wdGlvbnMiLCJyZXF1aXJlZE9wdGlvbnMiLCJtaXNzaW5nT3B0aW9ucyIsIm9wdCIsImNvcnJlY3RPcHRpb24iLCJpbmNsdWRlcyIsImV4cGxhbmF0aW9uIiwiaXNDb2RlIiwic2FuaXRpemVUZWNobm9sb2d5IiwidGVjaCIsInNwZWNpYWxDYXNlcyIsImxvd2VyVGVjaCIsImdlbmVyYXRlUXVlc3Rpb25Qcm9tcHQiLCJ0ZWNobm9sb2d5IiwicXVlc3Rpb25OdW1iZXIiLCJnZW5lcmF0ZVF1ZXN0aW9uIiwiY2hvaWNlcyIsInBhcnNlZFJlc3BvbnNlIiwiaGFzUXVlc3Rpb24iLCJxdWVzdGlvbiIsImhhc1RvcGljcyIsImhhc0RpZmZpY3VsdHkiLCJoYXNNb2RlbEFuc3dlciIsImFuYWx5emVSZXNwb25zZSIsInRvcGljIiwiYXBpUmVzcG9uc2UiLCJyZXN1bHQiLCJzY29yZSIsIk1hdGgiLCJtaW4iLCJtYXgiLCJjb3ZlcmVkVG9waWNzIiwibWlzc2luZ1RvcGljcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/utils/groq.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fquestions%2Froute&page=%2Fapi%2Fquestions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquestions%2Froute.ts&appDir=C%3A%5CAI%20Projects%5CWindsurf%5CAIInterviewer%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CAI%20Projects%5CWindsurf%5CAIInterviewer&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();